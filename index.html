<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hacker Simulator</title>

<style>
body {
    margin: 0;
    background: black;
    color: #00ff00;
    font-family: "Courier New", monospace;
    overflow: hidden;
}
canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
}
#game {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 20px auto;
    padding: 10px;
}
#terminal {
    background: rgba(0,0,0,0.85);
    border: 2px solid #00ff00;
    height: 420px;
    padding: 10px;
    overflow-y: auto;
    white-space: pre-wrap;
}
#input-line {
    display: flex;
    margin-top: 5px;
}
#prompt {
    margin-right: 6px;
}
#command {
    background: black;
    border: none;
    color: #00ff00;
    outline: none;
    flex: 1;
    font-family: inherit;
    caret-color: #00ff00;
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div id="game">
    <div id="terminal"></div>
    <div id="input-line">
        <span id="prompt">root@system:~$</span>
        <input id="command" autocomplete="off">
    </div>
</div>

<script>
/* ===== MATRIX ===== */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");
function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const chars = "01 HACK ROOT ACCESS SYSTEM";
const fontSize = 14;
let columns = canvas.width / fontSize;
let drops = Array(Math.floor(columns)).fill(1);

setInterval(() => {
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = "#00ff00";
    ctx.font = fontSize + "px monospace";

    for (let i = 0; i < drops.length; i++) {
        const t = chars[Math.floor(Math.random() * chars.length)];
        ctx.fillText(t, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.98) drops[i] = 0;
        drops[i]++;
    }
}, 50);

/* ===== TERMINAL ===== */
const terminal = document.getElementById("terminal");
const input = document.getElementById("command");

let score = 0;
let currentMission = 0;

const missions = [
    {
        name: "School Server",
        desc: "Access the internal school network",
        difficulty: 1,
        reward: 100
    },
    {
        name: "Bank Database",
        desc: "Bypass bank security firewall",
        difficulty: 2,
        reward: 200
    },
    {
        name: "Government Node",
        desc: "Crack encrypted government files",
        difficulty: 3,
        reward: 350
    },
    {
        name: "Private Corporation",
        desc: "Extract confidential corporate data",
        difficulty: 4,
        reward: 500
    }
];

function focusInput() { input.focus(); }
focusInput();
document.addEventListener("click", focusInput);

function print(text) {
    terminal.textContent += text + "\n";
    terminal.scrollTop = terminal.scrollHeight;
}

function typePrint(text, speed = 20, cb) {
    let i = 0;
    const int = setInterval(() => {
        terminal.textContent += text.charAt(i);
        terminal.scrollTop = terminal.scrollHeight;
        i++;
        if (i >= text.length) {
            clearInterval(int);
            terminal.textContent += "\n";
            if (cb) cb();
        }
    }, speed);
}

print("Hacker Simulator v4.0");
print("Type 'help' to begin");

input.addEventListener("keydown", e => {
    if (e.key === "Enter") {
        const cmd = input.value.trim().toLowerCase();
        print("root@system:~$ " + cmd);
        input.value = "";
        handle(cmd);
    }
});

function handle(cmd) {
    if (cmd === "help") {
        print("Commands:");
        print("missions - list missions");
        print("mission  - current mission");
        print("hack     - hack mission");
        print("status   - progress");
        print("clear");
    }
    else if (cmd === "missions") {
        missions.forEach((m, i) => {
            print(`${i === currentMission ? "▶" : " "} ${i+1}. ${m.name}`);
        });
    }
    else if (cmd === "mission") {
        const m = missions[currentMission];
        print("Mission: " + m.name);
        print("Objective: " + m.desc);
        print("Reward: " + m.reward);
    }
    else if (cmd === "status") {
        print("Score: " + score);
        print("Mission: " + (currentMission + 1) + "/" + missions.length);
    }
    else if (cmd === "clear") {
        terminal.textContent = "";
    }
    else if (cmd === "hack") {
        hackMission();
    }
    else {
        print("Command not found");
    }
}

function hackMission() {
    const m = missions[currentMission];
    const steps = [
        "Connecting to target...",
        "Bypassing security...",
        "Cracking encryption...",
        "Extracting data..."
    ];

    let i = 0;
    function next() {
        if (i < steps.length) {
            typePrint(steps[i], 25, () => {
                i++;
                setTimeout(next, 400);
            });
        } else {
            const success = Math.random() > (0.2 + m.difficulty * 0.1);
            if (success) {
                typePrint("MISSION SUCCESS ✔");
                score += m.reward;
                currentMission = Math.min(currentMission + 1, missions.length - 1);
            } else {
                typePrint("MISSION FAILED ✖");
            }
        }
    }
    next();
}
</script>
</body>
</html>




