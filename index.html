<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hacker Simulator</title>

<style>
body {
    margin: 0;
    background: black;
    color: #00ff00;
    font-family: "Courier New", monospace;
    overflow: hidden;
}

canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none; /* ðŸ”´ IMPORTANT FIX */
}

#game {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 20px auto;
    padding: 10px;
}

#terminal {
    background: rgba(0,0,0,0.85);
    border: 2px solid #00ff00;
    height: 420px;
    padding: 10px;
    overflow-y: auto;
    white-space: pre-wrap;
}

#input-line {
    display: flex;
    margin-top: 5px;
}

#prompt {
    margin-right: 6px;
}

#command {
    background: black;
    border: none;
    color: #00ff00;
    outline: none;
    flex: 1;
    font-family: inherit;
    caret-color: #00ff00; /* blinking cursor */
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div id="game">
    <div id="terminal"></div>

    <div id="input-line">
        <span id="prompt">root@system:~$</span>
        <input id="command" autocomplete="off" />
    </div>
</div>

<script>
/* ===== MATRIX BACKGROUND ===== */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const chars = "01 HACK ROOT ACCESS SYSTEM";
const fontSize = 14;
let columns = canvas.width / fontSize;
let drops = Array(Math.floor(columns)).fill(1);

function matrix() {
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "#00ff00";
    ctx.font = fontSize + "px monospace";

    for (let i = 0; i < drops.length; i++) {
        const text = chars[Math.floor(Math.random() * chars.length)];
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.98) {
            drops[i] = 0;
        }
        drops[i]++;
    }
}
setInterval(matrix, 50);

/* ===== TERMINAL ===== */
const terminal = document.getElementById("terminal");
const input = document.getElementById("command");

let score = 0;

// FORCE FOCUS (THE MAIN FIX)
function focusInput() {
    input.focus();
}
focusInput();
document.addEventListener("click", focusInput);

function print(text) {
    terminal.textContent += text + "\n";
    terminal.scrollTop = terminal.scrollHeight;
}

function typePrint(text, speed = 20, cb) {
    let i = 0;
    const interval = setInterval(() => {
        terminal.textContent += text.charAt(i);
        terminal.scrollTop = terminal.scrollHeight;
        i++;
        if (i >= text.length) {
            clearInterval(interval);
            terminal.textContent += "\n";
            if (cb) cb();
        }
    }, speed);
}

print("Hacker Simulator v3.0");
print("Type 'help' to begin");

input.addEventListener("keydown", e => {
    if (e.key === "Enter") {
        const cmd = input.value.trim();
        print("root@system:~$ " + cmd);
        input.value = "";
        handle(cmd);
    }
});

function handle(cmd) {
    if (cmd === "help") {
        print("Commands:");
        print("hack   - hack a system");
        print("scan   - scan network");
        print("status - show score");
        print("clear  - clear terminal");
    }
    else if (cmd === "clear") {
        terminal.textContent = "";
    }
    else if (cmd === "scan") {
        typePrint("Scanning network...");
        setTimeout(() => typePrint("4 targets found"), 800);
    }
    else if (cmd === "status") {
        print("Score: " + score);
    }
    else if (cmd === "hack") {
        hack();
    }
    else {
        print("Command not found");
    }
}

function hack() {
    const steps = [
        "Connecting...",
        "Bypassing firewall...",
        "Cracking credentials...",
        "Decrypting data..."
    ];
    let i = 0;

    function next() {
        if (i < steps.length) {
            typePrint(steps[i], 25, () => {
                i++;
                setTimeout(next, 400);
            });
        } else {
            const success = Math.random() > 0.3;
            if (success) {
                typePrint("ACCESS GRANTED âœ”");
                score += 150;
            } else {
                typePrint("ACCESS DENIED âœ–");
            }
        }
    }
    next();
}
</script>

</body>
</html>






